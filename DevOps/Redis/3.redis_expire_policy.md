# 3.redis过期策略

(1) 过期策略为定期删除+惰性删除
(2) 定期删除：每隔100ms随机抽取一些过期的key，进行删除
(3) 惰性删除: 每次根据key获取value的时候，判断key是否过期，如果过期则删除，并不返回value
(4) 内存淘汰机制（定期与惰性依然解决不了大量过期key的解决方案） 
(5) 各种内存淘汰机制:

noeviction: 当内存不足以容纳新写入数据时，新写入操作会报错，这个一般没人用吧，实在是太恶心了。
allkeys-lru：当内存不足以容纳新写入数据时，在键空间中，移除最近最少使用的 key（这个是最常用的）。
allkeys-random：当内存不足以容纳新写入数据时，在键空间中，随机移除某个 key，这个一般没人用吧，为啥要随机，肯定是把最近最少使用的 key 给干掉啊。
volatile-lru：当内存不足以容纳新写入数据时，在设置了过期时间的键空间中，移除最近最少使用的 key（这个一般不太合适）。
volatile-random：当内存不足以容纳新写入数据时，在设置了过期时间的键空间中，随机移除某个 key。
volatile-ttl：当内存不足以容纳新写入数据时，在设置了过期时间的键空间中，有更早过期时间的 key 优先移除。