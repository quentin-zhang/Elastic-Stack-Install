# 1.限流

> 限流是服务降级的一种，限流就是限制系统的输入和输出流量已达到保护系统的目的

## 限流方法

### 计数器

实现方式

* 控制单位时间内的请求数量

劣势

* 没法防止短时间内的请求暴增

### 滑动窗口

实现方式

* 滑动窗口对计数器方式做了改进，增加一个时间粒度的度量单位
* 把一分钟分成若干等分（6份，每份10秒），在每一份上设置独立计数器,在0秒到9秒之间累加1，等分数量越大限流设计越详细

### 漏桶

* 规定固定容量的桶，有水进入，有水流出，对于流进的水我们无法估计进来的数量、速度，对于流出的水我们可以控制速度

### 令牌桶

* 规定固定容量的桶，token以固定速度往桶里填充，当桶满时token不会被继续放入，每过来一个请求把token从桶中移除，如果桶中没有token不能请求



