# 3.垃圾回收机制

## 常见的垃圾回收器有哪些

1.Serial收集器：串行收集器，此收集器执行收集的时候，其它线程必须停止运行，相当于Stop the world

2.ParNew收集器：Serial收集器的多线程版本，除了使用多线程进行垃圾回收外，其它和Serial收集器完全一样

3.Parallel Scanvenge收集器：类似于ParNew收集器，关注点是吞吐量（高效的利用CPU）

4.Serial Old收集器：Serial收集器的老年代版本

5.Parallel Old收集器:Parallel Old收集器的老年代版本，使用多线程和“标记-整理”算法

6.CMS收集器：最短回收停顿时间为目标的收集器，非常符合注重用户体验的特征，采用“标记-清除”算法实现的，共4个步骤：

* 初始标记
* 并发标记
* 重新标记
* 并发清除
优点：并发收集、低停顿
缺点：

* 对CPU资源敏感
* 无法处理浮动垃圾
* 回收算法“标记-清除”算法会导致收集结束时会有大量空间碎片产生

7.G1收集器：是一款面向服务器的垃圾收集器，主要针对配备多颗处理器及大容量内存的机器，以极高概率满足GC停顿时间要求的同事，还具备高吞吐量性能特征
特点：

* 并行与并发：G1能充分利用CPU、多核环境下的硬件优势，使用多个CPU（或者CPU核心）来所端Stop-the-world停顿时间，G1收集器仍然可以通过并发的方式让Java程序继续执行
* 分代收集：虽然G1可以不需要其他收集器配合就能独立管理整个GC堆，但是还是保留了分代的概念
* 空间整合：整体来看是基于”标记整理“算法实现的收集器，局部来看是基于”复制“算法实现的
运行步骤：

* 初始标记
* 并发标记
* 最终标记
* 筛选回收
