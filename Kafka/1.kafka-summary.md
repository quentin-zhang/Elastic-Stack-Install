# 1.kafka study

1.高可用高并发的条件：消息队列分布式集群要有多个broker,1个topic分为多个partition,partition的数量大于等于broker的数量
2.每个partition的构成：多个segment构成；每个segment的构成:index + data；index可以理解为offset偏移量
3.多个partition的主从：一个leader，多个follower；也可以理解为一个主节点，其他都是replica副本节点；leader和follower在不同的broker上
4.producer与topic的交互：只与topic中的leader的partition交互；consumer与topic的交互：只与topic中的leader交互
5.宕机的处理：leader挂了之后，follower选举出来一个当做leader，所以要保证至少有3个节点的集群才可以是高可用；选举的原则是选出follwer中最快速度一台