# 3.Docker-Kibana-Install

（1）下载Kibana镜像

```
   docker pull docker.elastic.co/kibana/kibana:6.2.4
```

（2）将镜像运行为Kibana容器，Docker之间的通讯推荐使用--network作为容器名的识别，比如network的名字叫做mynetwork，es的docker容器名称为elastic

```
docker run -p 5601:5601 -e ELASTICSEARCH_URL=http://elastic:9200 -e ELASTICSEARCH_PASSWORD=changeme -e ELASTICSEARCH_USERNAME=elastic --network mynetwork  --name kibana  docker.elastic.co/kibana/kibana:6.2.4
```

（3）测试Kibana站点

```
cp /usr/local/software/kibana-6.2.4-linux-x86_64.tar.gz /usr/local/kibana/
```

（4）解压kibana

```
cd /usr/local/kibana/
tar -zxvf kibana-6.2.4-linux-x86_64.tar.gz
```

（5）修改kibana配置文件

```
 vim /usr/local/kibana/kibana-6.2.4-linux-x86_64/config/kibana.yml 
```

修改server.host节点，例如：server.host: "10.24.11.224"

修改elasticsearch.url节点，例如：elasticsearch.url: "[http://10.24.11.224:9200](http://10.24.11.224:9200)"

（6）开放5601端口

```
firewall-cmd --zone=public --add-port=5601/tcp --permanent

firewall-cmd --reload
```

（7）开启kibana

```
 cd /usr/local/kibana/kibana-6.2.4-linux-x86_64/bin/

./kibana
```

（8）后台开启kibana

Ctrl+c关闭kibaba，执行

```
nohup ./kibana &
```

则后台开启kibana

（9）浏览器或者curl访问5601端口测试是否kibana可以访问

