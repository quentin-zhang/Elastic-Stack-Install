# 4.类与加载

## 1..Class文件的结构组成

* 魔数
* 负版本号
* 主版本号
* 常量池计数器
* 访问标志
* 类索引
* 父类索引
* 接口技术器
* 接口信息数据区
* 字段计数器
* 字段信息数据区
* 方法计数器
* 方法信息数据区
* 属性计数器
* 属性信息数据区

## 2.类加载过程

* 加载
  * 通过全类名获取定义此类的二进制字节流
  * 将字节流所代表的静态存储结构转换为方法区的运行时数据结构
  * 在内存中生成一个代表该类的Class对象，作为方法去这些数据的访问入口
* 连接
  * 验证
  * 准备
  * 解析
* 初始化

## 3.类加载器

* BootstrapClassLoader：启动类加载器
* ExtentionClassLoader：扩展类加载器
* AppClassLoader：应用程序类加载器

## 4.双亲委派模型

* 在类加载的时候，首先会判断当前类是否加载过，如果加载过则返回；如果没加载过则寻找父类看其是否被加载过--自底向上
* 在类加载的时候，首选把该类的父类加载器的LoadClass()处理，所有的请求最终都应该传送到顶层的启动类加载器BootstrapClassLoader中，当父类加载器无法处理时，才由自己来处理
