# 2.TCP的三次握手

## 三次握手

1.标有SYN的数据包从发送端到接收端--一次握手
2.标有SYN/ACK的数据包从接收端返回给服务端--二次握手
3.标有ACK的数据包从发送端返回给服务端--三次握手

三次握手的目的是简历可靠的通信信道，三次握手的目的就是双方确认自己与对方发送与接收是正常的

* 第一次握手，Client什么都不能确认；Server确认了对方发送正常，自己接受正常
* 第二次握手，Client确认了自己发送，接收正常，对方发送、接收正常；Server确认了对方发送正常，自己接收正常
* 第三次握手，Client确认了自己发送正常，接受正常；对方发送、接受正常；Server确定了：自己发送、接收正常；对方发送、接收正常

## SYN

接收端传回发送端发送的SYN是为了告诉发送端，我接收到的信息确实是你发送的信号

## ACK

接收方到发送方的通道需要ACK来进行验证

## 断开TCP需要四次握手

* 客户端发送一个FIN，用来关闭客户端到服务器的数据传送
* 服务器收到FIN，发回一个ACK，确认序号为收到的序号加1.和SYN一样，一个FIN占用一个序号
* 服务器关闭与客户端的连接，发送一个FIN给客户端
* 客户端发挥ACK报文确认，并将确认序号设置为收到序号加1
